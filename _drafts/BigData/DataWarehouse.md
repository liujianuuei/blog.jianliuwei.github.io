# 数据仓库

**出现背景**

数据仓库的发展历史可以追溯到上世纪70年代。

**解决问题**

数据仓库的目的是解决“数据分析”的诉求，相比于“数据事务”即增删改查，主要解决数据的“多维查询”。

## 数仓分层

**一般分层原理**

分层的目的是“解耦”和“复用”。

**一般分层实践**

一般分为ODS、DWD、DWS、ADS四层，再加DIM/维表。具体怎么分因公司而异。

**一般各层职能**

ODS完全保留原始数据。DWD负责自下而上模型建设，要包含全部“明细数据”，以及指向各个维度的外键值。DWS负责自上而下模型建设，至少要发生“纵向聚合”或者“横向聚合”。ADS不需建模按需定制化加工即可。DIM是对具体分析实体的分析角度。

## 数仓分域

**分域原则**

①按业务过程分；②按业务系统分；③按分析场景分；一般分两级即可。

**分域举例**

经营、风控、分发、Offer、授信、用信、信审、客服、催收、用户。

**分域实践**

ODS一般不涉及分域。DWD按照业务过程或者业务系统从下而上分域。DWS按照分析场景从上而下分域。ADS一般没必要分域。DIM按照业务过程或者业务系统从下而上分域。
